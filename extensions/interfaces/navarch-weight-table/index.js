import{useApi as e,defineInterface as t}from"@directus/extensions-sdk";import{defineComponent as o,ref as l,inject as n,watch as a,resolveComponent as i,resolveDirective as r,openBlock as d,createElementBlock as s,createVNode as u,withCtx as c,createElementVNode as g,toDisplayString as h,withDirectives as v,createBlock as f,createTextVNode as w,normalizeClass as m,createCommentVNode as p,pushScopeId as y,popScopeId as _}from"vue";var b={},$={},C={};let D;Object.defineProperty(C,"__esModule",{value:!0}),C.default=function(){if(!D&&(D="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!D))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return D(O)};const O=new Uint8Array(16);var W={},U={},M={};Object.defineProperty(M,"__esModule",{value:!0}),M.default=void 0;M.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Object.defineProperty(U,"__esModule",{value:!0}),U.default=void 0;var L,S=(L=M)&&L.__esModule?L:{default:L};var E=function(e){return"string"==typeof e&&S.default.test(e)};U.default=E,Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0,W.unsafeStringify=x;var I=function(e){return e&&e.__esModule?e:{default:e}}(U);const N=[];for(let e=0;e<256;++e)N.push((e+256).toString(16).slice(1));function x(e,t=0){return(N[e[t+0]]+N[e[t+1]]+N[e[t+2]]+N[e[t+3]]+"-"+N[e[t+4]]+N[e[t+5]]+"-"+N[e[t+6]]+N[e[t+7]]+"-"+N[e[t+8]]+N[e[t+9]]+"-"+N[e[t+10]]+N[e[t+11]]+N[e[t+12]]+N[e[t+13]]+N[e[t+14]]+N[e[t+15]]).toLowerCase()}var T=function(e,t=0){const o=x(e,t);if(!(0,I.default)(o))throw TypeError("Stringified UUID is invalid");return o};W.default=T,Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var k=function(e){return e&&e.__esModule?e:{default:e}}(C),A=W;let V,j,F=0,P=0;var R=function(e,t,o){let l=t&&o||0;const n=t||new Array(16);let a=(e=e||{}).node||V,i=void 0!==e.clockseq?e.clockseq:j;if(null==a||null==i){const t=e.random||(e.rng||k.default)();null==a&&(a=V=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==i&&(i=j=16383&(t[6]<<8|t[7]))}let r=void 0!==e.msecs?e.msecs:Date.now(),d=void 0!==e.nsecs?e.nsecs:P+1;const s=r-F+(d-P)/1e4;if(s<0&&void 0===e.clockseq&&(i=i+1&16383),(s<0||r>F)&&void 0===e.nsecs&&(d=0),d>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");F=r,P=d,j=i,r+=122192928e5;const u=(1e4*(268435455&r)+d)%4294967296;n[l++]=u>>>24&255,n[l++]=u>>>16&255,n[l++]=u>>>8&255,n[l++]=255&u;const c=r/4294967296*1e4&268435455;n[l++]=c>>>8&255,n[l++]=255&c,n[l++]=c>>>24&15|16,n[l++]=c>>>16&255,n[l++]=i>>>8|128,n[l++]=255&i;for(let e=0;e<6;++e)n[l+e]=a[e];return t||(0,A.unsafeStringify)(n)};$.default=R;var H={},B={},J={};Object.defineProperty(J,"__esModule",{value:!0}),J.default=void 0;var K=function(e){return e&&e.__esModule?e:{default:e}}(U);var G=function(e){if(!(0,K.default)(e))throw TypeError("Invalid UUID");let t;const o=new Uint8Array(16);return o[0]=(t=parseInt(e.slice(0,8),16))>>>24,o[1]=t>>>16&255,o[2]=t>>>8&255,o[3]=255&t,o[4]=(t=parseInt(e.slice(9,13),16))>>>8,o[5]=255&t,o[6]=(t=parseInt(e.slice(14,18),16))>>>8,o[7]=255&t,o[8]=(t=parseInt(e.slice(19,23),16))>>>8,o[9]=255&t,o[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,o[11]=t/4294967296&255,o[12]=t>>>24&255,o[13]=t>>>16&255,o[14]=t>>>8&255,o[15]=255&t,o};J.default=G,Object.defineProperty(B,"__esModule",{value:!0}),B.URL=B.DNS=void 0,B.default=function(e,t,o){function l(e,l,n,a){var i;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let o=0;o<e.length;++o)t.push(e.charCodeAt(o));return t}(e)),"string"==typeof l&&(l=(0,Y.default)(l)),16!==(null===(i=l)||void 0===i?void 0:i.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let r=new Uint8Array(16+e.length);if(r.set(l),r.set(e,l.length),r=o(r),r[6]=15&r[6]|t,r[8]=63&r[8]|128,n){a=a||0;for(let e=0;e<16;++e)n[a+e]=r[e];return n}return(0,q.unsafeStringify)(r)}try{l.name=e}catch(e){}return l.DNS=z,l.URL=Q,l};var q=W,Y=function(e){return e&&e.__esModule?e:{default:e}}(J);const z="6ba7b810-9dad-11d1-80b4-00c04fd430c8";B.DNS=z;const Q="6ba7b811-9dad-11d1-80b4-00c04fd430c8";B.URL=Q;var X={};function Z(e){return 14+(e+64>>>9<<4)+1}function ee(e,t){const o=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(o>>16)<<16|65535&o}function te(e,t,o,l,n,a){return ee((i=ee(ee(t,e),ee(l,a)))<<(r=n)|i>>>32-r,o);var i,r}function oe(e,t,o,l,n,a,i){return te(t&o|~t&l,e,t,n,a,i)}function le(e,t,o,l,n,a,i){return te(t&l|o&~l,e,t,n,a,i)}function ne(e,t,o,l,n,a,i){return te(t^o^l,e,t,n,a,i)}function ae(e,t,o,l,n,a,i){return te(o^(t|~l),e,t,n,a,i)}Object.defineProperty(X,"__esModule",{value:!0}),X.default=void 0;var ie=function(e){if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let o=0;o<t.length;++o)e[o]=t.charCodeAt(o)}return function(e){const t=[],o=32*e.length,l="0123456789abcdef";for(let n=0;n<o;n+=8){const o=e[n>>5]>>>n%32&255,a=parseInt(l.charAt(o>>>4&15)+l.charAt(15&o),16);t.push(a)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[Z(t)-1]=t;let o=1732584193,l=-271733879,n=-1732584194,a=271733878;for(let t=0;t<e.length;t+=16){const i=o,r=l,d=n,s=a;o=oe(o,l,n,a,e[t],7,-680876936),a=oe(a,o,l,n,e[t+1],12,-389564586),n=oe(n,a,o,l,e[t+2],17,606105819),l=oe(l,n,a,o,e[t+3],22,-1044525330),o=oe(o,l,n,a,e[t+4],7,-176418897),a=oe(a,o,l,n,e[t+5],12,1200080426),n=oe(n,a,o,l,e[t+6],17,-1473231341),l=oe(l,n,a,o,e[t+7],22,-45705983),o=oe(o,l,n,a,e[t+8],7,1770035416),a=oe(a,o,l,n,e[t+9],12,-1958414417),n=oe(n,a,o,l,e[t+10],17,-42063),l=oe(l,n,a,o,e[t+11],22,-1990404162),o=oe(o,l,n,a,e[t+12],7,1804603682),a=oe(a,o,l,n,e[t+13],12,-40341101),n=oe(n,a,o,l,e[t+14],17,-1502002290),l=oe(l,n,a,o,e[t+15],22,1236535329),o=le(o,l,n,a,e[t+1],5,-165796510),a=le(a,o,l,n,e[t+6],9,-1069501632),n=le(n,a,o,l,e[t+11],14,643717713),l=le(l,n,a,o,e[t],20,-373897302),o=le(o,l,n,a,e[t+5],5,-701558691),a=le(a,o,l,n,e[t+10],9,38016083),n=le(n,a,o,l,e[t+15],14,-660478335),l=le(l,n,a,o,e[t+4],20,-405537848),o=le(o,l,n,a,e[t+9],5,568446438),a=le(a,o,l,n,e[t+14],9,-1019803690),n=le(n,a,o,l,e[t+3],14,-187363961),l=le(l,n,a,o,e[t+8],20,1163531501),o=le(o,l,n,a,e[t+13],5,-1444681467),a=le(a,o,l,n,e[t+2],9,-51403784),n=le(n,a,o,l,e[t+7],14,1735328473),l=le(l,n,a,o,e[t+12],20,-1926607734),o=ne(o,l,n,a,e[t+5],4,-378558),a=ne(a,o,l,n,e[t+8],11,-2022574463),n=ne(n,a,o,l,e[t+11],16,1839030562),l=ne(l,n,a,o,e[t+14],23,-35309556),o=ne(o,l,n,a,e[t+1],4,-1530992060),a=ne(a,o,l,n,e[t+4],11,1272893353),n=ne(n,a,o,l,e[t+7],16,-155497632),l=ne(l,n,a,o,e[t+10],23,-1094730640),o=ne(o,l,n,a,e[t+13],4,681279174),a=ne(a,o,l,n,e[t],11,-358537222),n=ne(n,a,o,l,e[t+3],16,-722521979),l=ne(l,n,a,o,e[t+6],23,76029189),o=ne(o,l,n,a,e[t+9],4,-640364487),a=ne(a,o,l,n,e[t+12],11,-421815835),n=ne(n,a,o,l,e[t+15],16,530742520),l=ne(l,n,a,o,e[t+2],23,-995338651),o=ae(o,l,n,a,e[t],6,-198630844),a=ae(a,o,l,n,e[t+7],10,1126891415),n=ae(n,a,o,l,e[t+14],15,-1416354905),l=ae(l,n,a,o,e[t+5],21,-57434055),o=ae(o,l,n,a,e[t+12],6,1700485571),a=ae(a,o,l,n,e[t+3],10,-1894986606),n=ae(n,a,o,l,e[t+10],15,-1051523),l=ae(l,n,a,o,e[t+1],21,-2054922799),o=ae(o,l,n,a,e[t+8],6,1873313359),a=ae(a,o,l,n,e[t+15],10,-30611744),n=ae(n,a,o,l,e[t+6],15,-1560198380),l=ae(l,n,a,o,e[t+13],21,1309151649),o=ae(o,l,n,a,e[t+4],6,-145523070),a=ae(a,o,l,n,e[t+11],10,-1120210379),n=ae(n,a,o,l,e[t+2],15,718787259),l=ae(l,n,a,o,e[t+9],21,-343485551),o=ee(o,i),l=ee(l,r),n=ee(n,d),a=ee(a,s)}return[o,l,n,a]}(function(e){if(0===e.length)return[];const t=8*e.length,o=new Uint32Array(Z(t));for(let l=0;l<t;l+=8)o[l>>5]|=(255&e[l/8])<<l%32;return o}(e),8*e.length))};X.default=ie,Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var re=se(B),de=se(X);function se(e){return e&&e.__esModule?e:{default:e}}var ue=(0,re.default)("v3",48,de.default);H.default=ue;var ce={},ge={};Object.defineProperty(ge,"__esModule",{value:!0}),ge.default=void 0;var he={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};ge.default=he,Object.defineProperty(ce,"__esModule",{value:!0}),ce.default=void 0;var ve=me(ge),fe=me(C),we=W;function me(e){return e&&e.__esModule?e:{default:e}}var pe=function(e,t,o){if(ve.default.randomUUID&&!t&&!e)return ve.default.randomUUID();const l=(e=e||{}).random||(e.rng||fe.default)();if(l[6]=15&l[6]|64,l[8]=63&l[8]|128,t){o=o||0;for(let e=0;e<16;++e)t[o+e]=l[e];return t}return(0,we.unsafeStringify)(l)};ce.default=pe;var ye={},_e={};function be(e,t,o,l){switch(e){case 0:return t&o^~t&l;case 1:case 3:return t^o^l;case 2:return t&o^t&l^o&l}}function $e(e,t){return e<<t|e>>>32-t}Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var Ce=function(e){const t=[1518500249,1859775393,2400959708,3395469782],o=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=[];for(let o=0;o<t.length;++o)e.push(t.charCodeAt(o))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const l=e.length/4+2,n=Math.ceil(l/16),a=new Array(n);for(let t=0;t<n;++t){const o=new Uint32Array(16);for(let l=0;l<16;++l)o[l]=e[64*t+4*l]<<24|e[64*t+4*l+1]<<16|e[64*t+4*l+2]<<8|e[64*t+4*l+3];a[t]=o}a[n-1][14]=8*(e.length-1)/Math.pow(2,32),a[n-1][14]=Math.floor(a[n-1][14]),a[n-1][15]=8*(e.length-1)&4294967295;for(let e=0;e<n;++e){const l=new Uint32Array(80);for(let t=0;t<16;++t)l[t]=a[e][t];for(let e=16;e<80;++e)l[e]=$e(l[e-3]^l[e-8]^l[e-14]^l[e-16],1);let n=o[0],i=o[1],r=o[2],d=o[3],s=o[4];for(let e=0;e<80;++e){const o=Math.floor(e/20),a=$e(n,5)+be(o,i,r,d)+s+t[o]+l[e]>>>0;s=d,d=r,r=$e(i,30)>>>0,i=n,n=a}o[0]=o[0]+n>>>0,o[1]=o[1]+i>>>0,o[2]=o[2]+r>>>0,o[3]=o[3]+d>>>0,o[4]=o[4]+s>>>0}return[o[0]>>24&255,o[0]>>16&255,o[0]>>8&255,255&o[0],o[1]>>24&255,o[1]>>16&255,o[1]>>8&255,255&o[1],o[2]>>24&255,o[2]>>16&255,o[2]>>8&255,255&o[2],o[3]>>24&255,o[3]>>16&255,o[3]>>8&255,255&o[3],o[4]>>24&255,o[4]>>16&255,o[4]>>8&255,255&o[4]]};_e.default=Ce,Object.defineProperty(ye,"__esModule",{value:!0}),ye.default=void 0;var De=We(B),Oe=We(_e);function We(e){return e&&e.__esModule?e:{default:e}}var Ue=(0,De.default)("v5",80,Oe.default);ye.default=Ue;var Me={};Object.defineProperty(Me,"__esModule",{value:!0}),Me.default=void 0;Me.default="00000000-0000-0000-0000-000000000000";var Le={};Object.defineProperty(Le,"__esModule",{value:!0}),Le.default=void 0;var Se=function(e){return e&&e.__esModule?e:{default:e}}(U);var Ee,Ie,Ne,xe=function(e){if(!(0,Se.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)};Le.default=xe,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"NIL",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"v3",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"v5",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"validate",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return i.default}});var t=u($),o=u(H),l=u(ce),n=u(ye),a=u(Me),i=u(Le),r=u(U),d=u(W),s=u(J);function u(e){return e&&e.__esModule?e:{default:e}}}(b),function(e){e.INTURN="Inturn",e.OUTTURN="Outturn",e.PLANNED="Planned",e.ESTIMATED="Estimated",e.INTURN_FINAL="Inturn Final"}(Ee||(Ee={})),function(e){e.WET_WEIGHT="wet_weight",e.DRY_WEIGHT="dry_weight"}(Ie||(Ie={})),function(e){e.METHOD="method",e.WET_WEIGHT_UOM="wet_weight_uom",e.MOISTURE_UOM="moisture_uom",e.DRY_WEIGHT_UOM="dry_weight_uom"}(Ne||(Ne={}));var Te=o({props:{value:{type:String,default:null}},emits:["input"],setup(t,{emit:o}){var i,r;const d=l([{text:"Method",value:"method",sortable:!1,width:150,align:"left"},{text:"Wet Weight",value:"wet_weight",sortable:!1,width:150,align:"left"},{text:"Moisture (%)",value:"moisture",sortable:!1,width:150,align:"left"},{text:"Dry Weight",value:"dry_weight",sortable:!1,width:150,align:"left"}]),s=l([{text:"To Delete",value:"delete",sortable:!1,width:60,align:"left"},{text:"Lot",value:"lot_number",sortable:!1,width:60,align:"left"},{text:"Wet Weight",value:"wet_weight",sortable:!1,width:150,align:"left"},{text:"Moisture (%)",value:"moisture",sortable:!1,width:150,align:"left"},{text:"Dry Weight",value:"dry_weight",sortable:!1,width:150,align:"left"}]),u=l(null),c="navarch_weight_lot",g="lot_number",h="navarch_contract",v="weight_uom",f="moisture_uom",w="methods",m="INVALID_ID",p="-- Select a method --",y="navarch_unit",_="symbol",$="wet_symbol",C="dry_symbol",D=l([]),O=l(-1),W=l([]),U=l([]),M=l([]),L=l([]),S=l(void 0),E=l([]),I=l(!1),N=l(!u.value),x=l(!1),T=l(null),k=l(!1),A=l(!1),V=l(!1),j=l(!1),F=l(null),P=l(!1);let R;const H=n("values",l({}));console.log(`[setup] weight lots table form values=${JSON.stringify(H.value)}`);let B=H.value.weight_result||H.value.weight_lot||H.value.weight_results||H.value.weight_lots;console.log(`[setup] weight lots table foreign key=${B}`),B||(B=b.v4(),console.log(`[setup] key generated for weight lots=${B}`));const J=e(),K=l(null===(i=u.value)||void 0===i?void 0:i.wetWeightUOM),G=l(null===(r=u.value)||void 0===r?void 0:r.dryWeightUOM),q=l([]);(async function(){return console.log("[getUnitsSelection]"),(await async function(e,t){return console.log("[getItems]"),(await J.get(`/items/${e}`,{params:{fields:t}})).data.data}(y,[_])).map((e=>({text:e[_],value:e[_]})))})().then((e=>{console.log("[getUnitsSelection]"),q.value=e}));const Y=l([]),z=l([]);a(S,(e=>{e&&z.value[0]?(console.log("[setup::watcher] method selected, Deselection option added"),z.value[0].text="-- Deselect method --"):z.value[0]&&(console.log("[setup::watcher] method selected, Selection option added"),z.value[0].text=p)}));const Q=l(void 0);return a((()=>H.value.contract),(async e=>{console.log(`[setup weight lots] change in contract field in the parcel form detected with a new id value=${e}`),Q.value=e,await async function(e){if(console.log(`[getContractData] contract id=${e}`),!e)return u.value=null,void console.log("[getContractData] contract data has been cleared or is not selected");try{const t=(await J.get(`/items/${h}/${e}`,{params:{fields:[v,f,w]}})).data.data;!function(e){if(console.log("[validateContractData]"),!e)throw new Error("Contract data response is empty, please ensure the selected contract for this parcel still exists");if(!e[v])throw new Error("Contract field 'Weight UOM' is empty");if(!e[f])throw new Error("Contract field 'Moisture UOM' is empty");if(!e[f]||!Array.isArray(e[w]))throw new Error("Contract field 'Methods' is empty or not a list");console.log("[validateContractData] contract data validated")}(t);const o=await J.get(`/items/${y}/${t.weight_uom}`,{params:{fields:[$,C]}});!function(e){if(console.log("[validateDryWetWeightUom]"),!e)throw new Error("Weight uom response is empty, please ensure a valid weight UOM has been selected in the contract");if(!e.wet_symbol)throw new Error(`Contract field 'Weight UOM' may have an invalid 'Wet Symbol' field value of ${e.wet_symbol}, please ensure a valid UOM with a proper Wet Symbol is selected`);if(!e.dry_symbol)throw new Error(`Contract field 'Weight UOM' may have an invalid 'Dry Symbol' field value of ${e.dry_symbol}, please ensure a valid UOM with a proper Dry Symbol is selected`);console.log("[validateDryWetWeightUom] fetched uom for dry/wet weights are valid")}(o.data.data),u.value={wetWeightUOM:o.data.data[$],dryWeightUOM:o.data.data[C],moistureUOM:t[f],methods:t[w]},console.log(`[getContractData] contract data with id=${e} successfully fetched with methods=${u.value[w]}, moisture uom=${t[f]}, wet weight uom=${o.data.data[$]}, dry weight uom=${o.data.data[C]}`)}catch(e){T.value=`Contract data could not be fetched due to: ${e.message}`,console.error(`[getContractData] fetching the contract data went wrong due to: ${e}`)}}(e),function(){if(console.log("[assignMethodSelectionRef]"),!u.value)return console.error("[assignMethodSelectionRef] contract data is not defined"),void(Y.value=[]);const e={text:p,value:void 0};Y.value=[e,...u.value.methods.map((e=>({text:e,value:e})))],console.log(`[assignMethodSelectionRef] methods from contract=${u.value.methods.join(", ")}`),z.value=re()}(),T.value=null}),{immediate:!0}),a(u,(e=>{console.log("[setup weight lots] contract data change detected"),e&&(K.value=e.wetWeightUOM,G.value=e.dryWeightUOM),N.value=!e})),a((()=>H.value.parcel_finalised),(async e=>{console.log(`[setup weight lots] change in parcel finalised field in the parcel form detected with a new value=${e}`),e?(T.value="Cannot edit weight lot data to a finalised parcel",x.value=!0):(T.value=null,x.value=!1)}),{immediate:!0}),J.get(`/items/${c}?filter[foreign_key]=${B}&filter[${g}][_nnull]=true&sort[]=${g}`).then((async e=>{console.log(`[getWeightLots] weight lots fetched with id=${B}`),D.value=function(e){console.log("[evaluateWeights]");const t=Object.values(Ee),o={};for(const l of e)t.includes(l.method)?(o[l.method]||(console.log(`adding method ${l.method} to weightData object`),o[l.method]=[]),console.log(`adding lot ${l.id} to weightData.${l.method} array`),o[l.method.toString()].push(l)):console.error(`lot ${l.id} has invalid method ${l.method}`);const l=[];for(const e of t){if(!o[e]){console.log(`method=${e} does not exist in weightData object`);continue}console.log(`adding lots and other values to weights for method=${e}`);const t=ne(o[e]);t&&l.push(t)}return l}(e.data.data)})).catch((e=>console.error(`[getWeightLots] fetching the weight lots with id=${B} went wrong due to=${e}`))),{weightTableHeaders:d,weightLotTableHeaders:s,weightUnits:q,wetWeightUnitSelection:K,dryWeightUnitSelection:G,methodSelection:z,sharedMethodForLots:S,selectedWeightForDrawerDisplay:E,weights:D,weightLotsToDisplay:W,weightLotsToDelete:L,weightLotsToUpdate:U,weightLotsToCreate:M,isOpen:P,isAddingNewWeightByMethod:I,isEditingDisabled:x,isContractNotFound:N,disableEditWeightLotButtonReason:T,isEditingLotsViaApi:j,confirmCloseDrawerOverlay:k,openConfirmCloseDrawerOverly:function(){console.log("[openConfirmCloseDrawerOverly]");U.value.length>0||L.value.length>0||M.value.length>0?(console.log("[openConfirmCloseDrawerOverly] changes present"),k.value=!0):(console.log("[openConfirmCloseDrawerOverly] no changes detected, closing drawer without confirmation popup"),ee())},closeConfirmCloseDrawerOverlay:Z,confirmCloseDrawer:ee,confirmSaveOverlay:A,openConfirmSaveOverlay:function(){console.log("[openConfirmSaveOverlay]");U.value.length>0||L.value.length>0||M.value.length>0?oe():F.value="Please add new weight lots or make changes to existing weight lots before saving"},closeConfirmSaveOverlay:te,confirmSave:oe,saveOperationCannotBePerformedReason:F,confirmDeleteWeightOverlay:V,openConfirmDeleteWeightOverlay:function(){console.log("[openConfirmDeleteWeightOverlay]"),V.value=!0},closeConfirmDeleteWeightOverlay:le,confirmDeleteWeight:async function(){console.log("[confirmDeleteWeight]");try{console.log("[confirmDeleteWeight] is deleting weight lot(s)"),j.value=!0,await async function(){console.log("[deleteWeight]");const e=W.value.map((e=>e.id)),t=await J.delete(`/items/${c}`,{data:e.filter((e=>void 0!==e))});if(204!==t.status)throw new Error(`response status=${t.status} is not 204`);D.value.splice(O.value,1),console.log(`[deleteWeight] weight lots successfully deleted with ids=${e} for method=${S.value}`),X()}()}catch(e){console.error(`[confirmDeleteWeight] error=${e}`)}finally{console.log("[confirmDeleteWeight] finished deleting weight lot(s)"),le(),j.value=!1}},rowClickHandler:function(e){const t=e.item;console.log(`[rowClickHandler] weight lots with method=${t.method} selected`);const o=D.value.findIndex((e=>e.method===t.method));O.value=o,W.value=(l=t.lots,console.log("[cloneLots]"),[...l].map((e=>({...e})))),S.value=t.method,G.value=t.dry_weight_uom,K.value=t.wet_weight_uom,E.value=[t],X(),console.log("[rowClickHandler] open drawer");var l},addNewWeightByMethod:function(){if(console.log("[addNewWeightByMethod]"),!u.value)return console.error("[addNewWeightByMethod] contract data is not defined. The add button should have been disabled"),[];I.value=!0,z.value=re(),G.value=u.value.dryWeightUOM,K.value=u.value.wetWeightUOM,E.value=[{}],X(),console.log("[addNewWeightByMethod] open drawer")},addNewWeightLot:function(){console.log(`[addNewWeightLot] is adding a new weight by method=${I.value}`);const e=b.v4();let t;I.value?t=S.value:-1!==O.value&&(t=D.value[O.value].method);const o={id:e,foreign_key:B,lot_number:W.value.length+1,method:t,dry_weight_uom:G.value,wet_weight_uom:K.value};W.value.push(o),M.value.push(e),console.log(`[addNewWeightLot] new lot generated with id=${e}, lot number=${o.lot_number} and method=${o.method} staged for creation`)},deleteButtonHandler:function(e){console.log(`[deleteButtonHandler] id=${e}`);const t=L.value.findIndex((t=>t===e));-1===t?(L.value.push(e),console.log(`[deleteButtonHandler] id=${e} pushed into weight lots to delete`)):(L.value.splice(t,1),console.log(`[deleteButtonHandler] id=${e} removed from weight lots to delete`))},deleteButtonTooltip:function(e){const t=L.value.findIndex((t=>t===e));if(-1===t)return"Remove Lot";return"Undo Removed Lot"},onKeyDown:function(e,t,o){var l,n;if("Enter"===o.code||"NumpadEnter"===o.code){const e=null===(l=o.target||o.srcElement)||void 0===l?void 0:l.id;if(!e)return void console.error("currentElementId is not defined");if(!/weightlots-(\w)+-(\d)+/.test(e))return void console.error(`current element id=${e} is not in the correct format`);const[t,a,i]=e.split("-"),r=parseInt(i),d=parseInt(a);let s=`${t}-`;if(r<W.value.length)s+=`${d}-${r+1}`;else{const e=3===d;s+=`${e?d:d+1}-${e?r:1}`}return void(null===(n=document.getElementById(s))||void 0===n||n.focus())}console.log(`[onKeyDown] item=${e.id}`),!R||clearTimeout(R);R=setTimeout((()=>{var o,l,n,a;if(console.log("lot value is staged for update"),e.dry_weight&&e.wet_weight&&e.moisture){switch(t){case"wet_weight":case"dry_weight":e.moisture=de((e.wet_weight-e.dry_weight)/e.wet_weight*100);break;case"moisture":e.dry_weight=de(e.wet_weight*(1-e.moisture/100))}const l=W.value.findIndex((t=>t.id===e.id));W.value[l]=e;-1===U.value.findIndex((t=>t===e.id))&&U.value.push(null!==(o=e.id)&&void 0!==o?o:m)}else if(e.dry_weight&&e.wet_weight&&!e.moisture){e.moisture=de((e.wet_weight-e.dry_weight)/e.wet_weight*100);const t=W.value.findIndex((t=>t.id===e.id));W.value[t]=e;-1===U.value.findIndex((t=>t===e.id))&&U.value.push(null!==(l=e.id)&&void 0!==l?l:m)}else if(e.dry_weight&&!e.wet_weight&&e.moisture){e.wet_weight=de(e.dry_weight/(1-e.moisture/100));const t=W.value.findIndex((t=>t.id===e.id));W.value[t]=e;-1===U.value.findIndex((t=>t===e.id))&&U.value.push(null!==(n=e.id)&&void 0!==n?n:m)}else if(!e.dry_weight&&e.wet_weight&&e.moisture){e.dry_weight=de(e.wet_weight*(1-e.moisture/100));const t=W.value.findIndex((t=>t.id===e.id));W.value[t]=e;-1===U.value.findIndex((t=>t===e.id))&&U.value.push(null!==(a=e.id)&&void 0!==a?a:m)}console.log(`[onKeyDown] item=${JSON.stringify(e)} staged for update`)}),500)},save:se,toggleDrawer:X,deleteIcon:function(e){const t=L.value.findIndex((t=>t===e));if(-1===t)return"close";return"settings_backup_restore"},colourDeleteIcon:function(e){const t=L.value.findIndex((t=>t===e));if(-1===t)return"v-icon-delete-button-small-foreground-subdued";return"v-icon-delete-button-small-red"},formatNumber:function(e,t=4,o=!0){if(isNaN(e)||null===e)return"-";const l=Math.round(e*Math.pow(10,t))/Math.pow(10,t),[n,a]=l.toString().split(".");if(!n)return"";const i=n.replace(/\B(?=(\d{3})+(?!\d))/g,",");if(!a&&!o)return i;const r=(null!=a?a:"").padEnd(t,"0");return`${i}.${r}`},isNullOrUndefined:function(e){return null==e}};function X(){console.log("[toggleDrawer]"),P.value=!P.value,P.value?console.log("[toggleDrawer] open drawer"):(W.value=[],M.value=[],U.value=[],L.value=[],S.value=void 0,G.value=void 0,K.value=void 0,I.value=!1,E.value=[],F.value=null,console.log("[toggleDrawer] reset all values and close drawer"))}function Z(){console.log("[closeConfirmCloseDrawerOverlay]"),k.value=!1}function ee(){console.log("[confirmCloseDrawer]"),Z(),X(),j.value=!1}function te(){console.log("[closeConfirmSaveOverlay]"),A.value=!1}async function oe(){console.log("[confirmSave]");try{console.log("[confirmSave] is saving weight lot(s)"),j.value=!0,await se()}catch(e){console.error(`[confirmSave] error=${e}`)}finally{console.log("[confirmSave] finished saving weight lot(s)"),te(),j.value=!1}}function le(){console.log("[closeConfirmDeleteWeightOverlay]"),V.value=!1}function ne(e){if(console.log("[evaluateWeightData]"),0===e.length)return;const t=ae(e,Ie.DRY_WEIGHT),o=ae(e,Ie.WET_WEIGHT);return console.log(`[evaluateWeightData] method=${e[0].method}`),{method:ie(e,Ne.METHOD),lots:e,dry_weight_uom:ie(e,Ne.DRY_WEIGHT_UOM),wet_weight_uom:ie(e,Ne.WET_WEIGHT_UOM),dry_weight:t,wet_weight:o,moisture:(o-t)/o*100}}function ae(e,t){console.log(`[evaluateAggregateValue] lots method=${e[0].method}`);const o=e.reduce(((e,o)=>{var l;return e+parseFloat(null!==(l=o[t.toString()])&&void 0!==l?l:"0")}),0);return console.log(`[evaluateAggregateValue] aggregate value=${o}`),o}function ie(e,t){if(console.log("[getFirstValueAsSharedValue]"),0!==e.length)return console.log(`[getFirstValueAsSharedValue] ${t.toString()}=${e[0][t.toString()]}`),e[0][t.toString()]}function re(){console.log("[filterUnusedMethods]");const e=D.value.map((e=>e.method)),t=[...Y.value.filter((t=>!e.includes(t.value)))];return console.log(`[filterUnusedMethods] unused methods=${t.join(", ")}`),t}function de(e,t=4){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}async function se(){console.log("[save]"),console.log("[syncStagedChanges]"),console.log("[removeDeletedIdsFromCreateList]"),L.value.forEach((e=>{const t=M.value.findIndex((t=>t===e));-1!==t&&(M.value.splice(t,1),console.log(`[removeDeletedIdsFromCreateList] removed lot with id=${e}`))})),console.log("[removeCreatedIdsFromUpdateList]"),M.value.forEach((e=>{const t=U.value.findIndex((t=>t===e));-1!==t&&(U.value.splice(t,1),console.log(`[removeCreatedIdsFromUpdateList] removed lot with id=${e}`))})),console.log("[removeDeletedIdsFromUpdateList]"),L.value.forEach((e=>{const t=U.value.findIndex((t=>t===e));-1!==t&&(U.value.splice(t,1),console.log(`[removeDeletedIdsFromUpdateList] removed lot with id=${e}`))})),console.log("[syncStagedChanges] staged changes synced"),U.value.length>0&&(console.log(`[save] weightLotsToUpdate=${U.value.length}; ${JSON.stringify(U.value)}`),await async function(){if(console.log(`[updateWeightLots] weight lots to update with ids=${JSON.stringify(U.value)}`),0===U.value.length)return;const e=U.value.map((e=>W.value.find((t=>t.id===e))));try{const t=await J.patch(`/items/${c}`,e);console.log(`[updateWeightLots] ${t.data.data.length} weight lots updated`);for(const e of t.data.data){const t=W.value.findIndex((t=>t.id===e.id));W.value[t]=e}console.log("[updateWeightLots] Weight lots updated")}catch(e){console.error(`[updateWeightLots] patching for lots=${U.value} failed with reason: '${e}'`)}}()),M.value.length>0&&(console.log(`[save] weightLotsToCreate=${M.value.length}; ${JSON.stringify(M.value)}`),await async function(){if(console.log(`[createWeightLots] weight lots created=${JSON.stringify(M.value)} with weight lots key=${B}`),M.value.length<=0)return void console.log("[createWeightLots] No weight lots to create with weight lots key=${foreign_key}");if(!S.value)return void console.error("[createWeightLots] No shared method for lots with weight lots key=${foreign_key}");console.log(`[createWeightLots] weight lots to display=${JSON.stringify(W.value)}`);const e=W.value.filter((e=>{var t;return M.value.includes(null!==(t=e.id)&&void 0!==t?t:m)})).map((e=>({...e,dry_weight_uom:G.value,wet_weight_uom:K.value})));console.log(`lotsToCreate=${JSON.stringify(e)}`);try{const t=await J.post(`/items/${c}?sort[]=${g}`,e);if(200!==t.status)throw new Error(`[createWeightLots] response status=${t.status} is not 200`);console.log(`[createWeightLots] ${t.data.data.length} lots successfully created with weight lots key=${B}`);for(const e of t.data.data){const t=W.value.findIndex((e=>void 0===e.id));W.value[t]=e}I.value?(console.log(`[createWeightLots] new weight by method added, method=${S.value} with weight lots key=${B}`),D.value.push({method:S.value,lots:W.value}),O.value=D.value.length-1):-1!==O.value&&(console.log(`[createWeightLots] weight lots created for existing method=${S.value} with weight lots key=${B}`),D.value[O.value].lots=W.value),console.log(`[createWeightLots] weight lots created=${JSON.stringify(M.value)} with weight lots key=${B}`)}catch(e){console.error("[createWeightLots] Error creating weight lots",e)}}()),L.value.length>0&&(console.log(`[save] weightLotsToDelete=${L.value.length}; ${JSON.stringify(L.value)}`),await async function(){if(console.log("[deleteWeightLots]"),L.value.length<=0)return void console.log("[deleteWeightLots] No weight lots to delete");try{const e=await J.delete(`/items/${c}`,{data:L.value});if(204!==e.status)throw new Error(`response status=${e.status} is not 204`);const t=W.value.filter((e=>{var t;return!L.value.includes(null!==(t=e.id)&&void 0!==t?t:m)}));console.log(`[deleteWeightLots] weight lots deleted with ids=${JSON.stringify(t)}`);const o=t.map(((e,t)=>({id:e.id,lot_number:t+1})));console.log(`[deleteWeightLots] updating lot numbers with data=${JSON.stringify(o)}`);const l=await J.patch(`/items/${c}?sort[]=${g}`,o);W.value=l.data.data,console.log(`[deleteWeightLots] weight lots deleted with ids=${JSON.stringify(L.value)} and updated lot numbers with response=${JSON.stringify(l.data.data)}`)}catch(e){console.error(`[deleteWeightLots] deletion of lots with ids=${JSON.stringify(L.value)} failed with reason='${e}'`)}}()),D.value[O.value].lots=W.value,D.value[O.value]=ne(D.value[O.value].lots),D.value=D.value.filter((e=>!!e)),console.log("[save] saving operation completed"),void 0!==H.value.weight_result&&null!==H.value.weight_result||(console.log(`[save] emitting input event with weight lot foreign_key=${B}`),o("input",B)),X()}}});const ke=e=>(y("data-v-64969d30"),e=e(),_(),e),Ae={class:"drawer-content"},Ve={class:"input-label"},je=["disabled"],Fe=ke((()=>g("div",{class:"input-label"},"Method",-1))),Pe=ke((()=>g("div",{class:"input-label"},"Weight Lots",-1)));var Re=[],He=[];!function(e,t){if(e&&"undefined"!=typeof document){var o,l=!0===t.prepend?"prepend":"append",n=!0===t.singleTag,a="string"==typeof t.container?document.querySelector(t.container):document.getElementsByTagName("head")[0];if(n){var i=Re.indexOf(a);-1===i&&(i=Re.push(a)-1,He[i]={}),o=He[i]&&He[i][l]?He[i][l]:He[i][l]=r()}else o=r();65279===e.charCodeAt(0)&&(e=e.substring(1)),o.styleSheet?o.styleSheet.cssText+=e:o.appendChild(document.createTextNode(e))}function r(){var e=document.createElement("style");if(e.setAttribute("type","text/css"),t.attributes)for(var o=Object.keys(t.attributes),n=0;n<o.length;n++)e.setAttribute(o[n],t.attributes[o[n]]);var i="prepend"===l?"afterbegin":"beforeend";return a.insertAdjacentElement(i,e),e}}('.weight-table .table-row[data-v-64969d30] {\n  height: 30px;\n}\n.weight-table .weight_cell[data-v-64969d30] {\n  width: 100%;\n}\n.weight-table .header_cell_with_input[data-v-64969d30] {\n  height: 60px;\n}\n.margin-top-16px[data-v-64969d30] {\n  margin-top: 16px;\n}\n.v-icon-white[data-v-64969d30] {\n  --v-icon-color: #ffffff;\n}\n.v-icon-purple[data-v-64969d30] {\n  --v-icon-color: #8866FF;\n}\n.v-icon-delete-button-small-foreground-subdued[data-v-64969d30] {\n  --v-icon-size: 18px;\n  --v-icon-color: var(--foreground-subdued);\n}\n.v-icon-delete-button-small-red[data-v-64969d30] {\n  --v-icon-size: 18px;\n  --v-icon-color: var(--red);\n}\n.v-button-red-on-hover[data-v-64969d30] {\n  --v-button-color: var(--white);\n  --v-button-background-color: var(--background-normal);\n  --v-button-color-hover: var(--white);\n  --v-button-background-color-hover: var(--red);\n}\n.v-button-red[data-v-64969d30] {\n  --v-button-color: var(--white);\n  --v-button-background-color: var(--danger);\n  --v-button-color-hover: var(--white);\n  --v-button-background-color-hover: var(--danger-125);\n}\n.drawer-content[data-v-64969d30] {\n  padding: 0 32px 40px;\n}\n.weight-drawer[data-v-64969d30] {\n  max-width: 1500px !important;\n}\n.input-label[data-v-64969d30] {\n  color: #f0f6fc;\n  font-weight: 600;\n  font-size: 16px;\n  font-family: "Inter", -apple-system, "BlinkMacSystemFont", "Segoe UI", "Roboto", "Helvetica", "Arial", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n  font-style: normal;\n  line-height: 19px;\n  margin-bottom: 8px;\n  padding-top: 20px;\n}',{}),Te.render=function(e,t,o,l,n,a){const y=i("v-overlay"),_=i("v-table"),b=i("v-button"),$=i("v-icon"),C=i("v-select"),D=i("v-input"),O=i("v-notice"),W=i("v-drawer"),U=i("v-card-title"),M=i("v-card-text"),L=i("v-card-actions"),S=i("v-card"),E=i("v-dialog"),I=r("tooltip");return d(),s("div",null,[u(y,{active:e.isEditingLotsViaApi,clickable:!1},null,8,["active"]),u(_,{class:"weight-table",headers:e.weightTableHeaders,items:e.weights,rowHeight:30,"onClick:row":t[0]||(t[0]=t=>e.rowClickHandler(t)),fixedHeader:"",inline:""},{"item.wet_weight":c((({item:t})=>[g("div",null,h(`${e.formatNumber(t.wet_weight)}${e.isNullOrUndefined(t.wet_weight)?"":t.wet_weight_uom}`),1)])),"item.moisture":c((({item:t})=>[g("div",null,h(e.formatNumber(t.moisture)),1)])),"item.dry_weight":c((({item:t})=>[g("div",null,h(`${e.formatNumber(t.dry_weight)}${e.isNullOrUndefined(t.dry_weight)?"":t.dry_weight_uom}`),1)])),_:2},1032,["headers","items"]),v((d(),f(b,{onClick:t[1]||(t[1]=()=>e.addNewWeightByMethod()),class:"margin-top-16px",disabled:e.isEditingDisabled||e.isContractNotFound},{default:c((()=>[w("Add Weight")])),_:1},8,["disabled"])),[[I,e.isEditingDisabled||e.isContractNotFound?e.disableEditWeightLotButtonReason??"Editing has been disabled":null,void 0,{bottom:!0}]]),u(W,{modelValue:e.isOpen,"onUpdate:modelValue":t[3]||(t[3]=t=>e.isOpen=t),onToggle:e.openConfirmCloseDrawerOverly,onCancel:e.openConfirmCloseDrawerOverly,icon:"scale",title:"Edit Weights",subtitle:"Weight Lots"},{actions:c((()=>[v((d(),f(b,{rounded:"",disabled:e.isEditingDisabled||e.isContractNotFound,onClick:e.openConfirmSaveOverlay,icon:""},{default:c((()=>[u($,{name:"check"})])),_:1},8,["disabled","onClick"])),[[I,e.isEditingDisabled||e.isContractNotFound?e.disableEditWeightLotButtonReason??"Editing has been disabled":null,void 0,{bottom:!0}]]),v((d(),f(b,{class:"v-button-red-on-hover",rounded:"",onClick:e.openConfirmDeleteWeightOverlay,disabled:e.isEditingDisabled||e.isContractNotFound,icon:""},{default:c((()=>[u($,{name:"delete"})])),_:1},8,["onClick","disabled"])),[[I,e.isEditingDisabled||e.isContractNotFound?e.disableEditWeightLotButtonReason??"Editing has been disabled":null,void 0,{bottom:!0}]])])),default:c((()=>[g("div",Ae,[g("div",Ve,h("Weight Result"+(e.sharedMethodForLots?` for ${e.sharedMethodForLots}`:"")),1),u(_,{class:"weight-table",headers:e.weightTableHeaders,items:e.selectedWeightForDrawerDisplay,rowHeight:30,fixedHeader:"",inline:""},{"item.wet_weight":c((({item:t})=>[g("div",null,h(`${e.formatNumber(t.wet_weight)}${e.isNullOrUndefined(t.wet_weight)?"":t.wet_weight_uom}`),1)])),"item.moisture":c((({item:t})=>[g("div",null,h(e.formatNumber(t.moisture)),1)])),"item.dry_weight":c((({item:t})=>[g("div",null,h(`${e.formatNumber(t.dry_weight)}${e.isNullOrUndefined(t.dry_weight)?"":t.dry_weight_uom}`),1)])),_:2},1032,["headers","items"]),g("fieldset",{disabled:e.isEditingDisabled||e.isContractNotFound},[Fe,u(C,{modelValue:e.sharedMethodForLots,"onUpdate:modelValue":t[2]||(t[2]=t=>e.sharedMethodForLots=t),items:e.methodSelection,disabled:!e.isAddingNewWeightByMethod},null,8,["modelValue","items","disabled"]),Pe,u(_,{class:"weight-table",headers:e.weightLotTableHeaders,items:e.weightLotsToDisplay,rowHeight:30,fixedHeader:"",inline:""},{"header.wet_weight":c((({header:t})=>[g("div",null,h(`${t.text} (${e.wetWeightUnitSelection})`),1)])),"header.dry_weight":c((({header:t})=>[g("div",null,h(`${t.text} (${e.dryWeightUnitSelection})`),1)])),"item.delete":c((({item:t})=>[v(u($,{class:m(e.colourDeleteIcon(t.id)),name:e.deleteIcon(t.id),onClick:()=>e.deleteButtonHandler(t.id)},null,8,["class","name","onClick"]),[[I,e.deleteButtonTooltip(t.id),void 0,{top:!0}]])])),"item.wet_weight":c((({item:t})=>[u(D,{class:"weight_cell",modelValue:e.weightLotsToDisplay[t.lot_number-1].wet_weight,"onUpdate:modelValue":o=>e.weightLotsToDisplay[t.lot_number-1].wet_weight=o,placeholder:0,type:"number",onKeydown:o=>e.onKeyDown(t,"wet_weight",o),nullable:!0,id:`weightlots-1-${t.lot_number}`},null,8,["modelValue","onUpdate:modelValue","onKeydown","id"])])),"item.moisture":c((({item:t})=>[u(D,{class:"weight_cell",modelValue:e.weightLotsToDisplay[t.lot_number-1].moisture,"onUpdate:modelValue":o=>e.weightLotsToDisplay[t.lot_number-1].moisture=o,placeholder:0,type:"number",onKeydown:o=>e.onKeyDown(t,"moisture",o),nullable:!0,id:`weightlots-2-${t.lot_number}`},null,8,["modelValue","onUpdate:modelValue","onKeydown","id"])])),"item.dry_weight":c((({item:t})=>[u(D,{class:"weight_cell",modelValue:e.weightLotsToDisplay[t.lot_number-1].dry_weight,"onUpdate:modelValue":o=>e.weightLotsToDisplay[t.lot_number-1].dry_weight=o,placeholder:0,type:"number",onKeydown:o=>e.onKeyDown(t,"dry_weight",o),nullable:!0,id:`weightlots-3-${t.lot_number}`},null,8,["modelValue","onUpdate:modelValue","onKeydown","id"])])),_:2},1032,["headers","items"]),v((d(),f(b,{class:"margin-top-16px",disabled:e.isEditingDisabled||e.isContractNotFound||void 0===e.sharedMethodForLots,onClick:e.addNewWeightLot},{default:c((()=>[w(" Add New Lot ")])),_:1},8,["disabled","onClick"])),[[I,e.isEditingDisabled||e.isContractNotFound?e.disableEditWeightLotButtonReason??"Editing has been disabled":void 0===e.sharedMethodForLots?"Cannot add new lot without a method selected":null,void 0,{bottom:!0}]])],8,je),e.saveOperationCannotBePerformedReason?(d(),f(O,{key:0},{default:c((()=>[w(h(e.saveOperationCannotBePerformedReason),1)])),_:1})):p("v-if",!0)])])),_:1},8,["modelValue","onToggle","onCancel"]),u(E,{modelValue:e.confirmCloseDrawerOverlay,"onUpdate:modelValue":t[4]||(t[4]=t=>e.confirmCloseDrawerOverlay=t)},{default:c((()=>[u(S,null,{default:c((()=>[u(U,null,{default:c((()=>[w("Unsaved changes")])),_:1}),u(M,null,{default:c((()=>[w("Are you sure you want to leave this page?")])),_:1}),u(L,null,{default:c((()=>[u(b,{secondary:"",onClick:e.confirmCloseDrawer},{default:c((()=>[w("Discard Changes")])),_:1},8,["onClick"]),u(b,{onClick:e.closeConfirmCloseDrawerOverlay},{default:c((()=>[w("Keep Editing")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),u(E,{modelValue:e.confirmSaveOverlay,"onUpdate:modelValue":t[5]||(t[5]=t=>e.confirmSaveOverlay=t)},{default:c((()=>[u(S,null,{default:c((()=>[u(U,null,{default:c((()=>[w("New changes made")])),_:1}),u(M,null,{default:c((()=>[w("The changes will be saved even if other changes to the Parcel is not saved. Are you sure you want to save?")])),_:1}),u(L,null,{default:c((()=>[u(b,{secondary:"",onClick:e.closeConfirmSaveOverlay},{default:c((()=>[w("Keep Editing")])),_:1},8,["onClick"]),u(b,{loading:e.isEditingLotsViaApi,onClick:e.confirmSave},{default:c((()=>[w("Save Changes")])),_:1},8,["loading","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),u(E,{modelValue:e.confirmDeleteWeightOverlay,"onUpdate:modelValue":t[6]||(t[6]=t=>e.confirmDeleteWeightOverlay=t)},{default:c((()=>[u(S,null,{default:c((()=>[u(U,null,{default:c((()=>[w(h(`Delete ${e.sharedMethodForLots?`${e.sharedMethodForLots} `:""}weights`),1)])),_:1}),u(M,null,{default:c((()=>[w("This action is permanent and can not be undone. Are you sure you would like to proceed?")])),_:1}),u(L,null,{default:c((()=>[u(b,{secondary:"",onClick:e.closeConfirmDeleteWeightOverlay},{default:c((()=>[w("Keep Editing")])),_:1},8,["onClick"]),u(b,{class:"v-button-red",loading:e.isEditingLotsViaApi,onClick:e.confirmDeleteWeight},{default:c((()=>[w("Delete")])),_:1},8,["loading","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])},Te.__scopeId="data-v-64969d30",Te.__file="src/interface.vue";var Be=t({id:"weight_table",name:"Weight Table",icon:"box",description:"Custom interface for weights",component:Te,options:null,types:["string"],group:"standard"});export{Be as default};
